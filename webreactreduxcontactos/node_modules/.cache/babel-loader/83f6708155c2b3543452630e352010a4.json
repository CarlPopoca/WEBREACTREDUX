{"ast":null,"code":"export const SET_CONTACTOS = 'SET_CONTACTOS';\nexport const ADD_CONTACTOS = 'ADD_CONTACTOS';\nexport const UPDATE_CONTACTOS = 'UPDATE_CONTACTOS';\nexport const DELETE_CONTACTOS = 'DELETE_CONTACTOS';\nexport function setContactos(contactos) {\n  return {\n    type: SET_CONTACTOS,\n    contactos\n  };\n}\nexport function addContactos(contactos) {\n  return {\n    type: ADD_CONTACTOS,\n    contactos\n  };\n}\nexport function updContactos(contactos) {\n  return {\n    type: UPDATE_CONTACTOS,\n    contactos\n  };\n}\nexport function delContactos(Id) {\n  return {\n    type: DELETE_CONTACTOS,\n    Id\n  };\n}\n\nfunction handleResponse(response) {\n  if (response.ok) {\n    //Cuando la respuesta es satisfactoría\n    return response.json();\n  } else {\n    //Cuando ocurre un error\n    let error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  }\n}\n\nfunction handleResponseNoJson(response) {\n  if (response.ok) {\n    //Cuando la respuesta es satisfactoría\n    return response;\n  } else {\n    //Cuando ocurre un error\n    alert('error');\n    let error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  }\n}\n\nexport function fetchContactos() {\n  return dispatch => {\n    fetch('https://localhost:44386/api/Contactos', {\n      method: 'get',\n      headers: {\n        \"content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => dispatch(setContactos(data)));\n  };\n}\nexport function saveContactos(data) {\n  return dispatch => {\n    return fetch('https://localhost:44386/api/Contactos', {\n      method: 'post',\n      body: JSON.stringify(data),\n      headers: {\n        \"content-Type\": \"application/json\"\n      }\n    }).then(handleResponse).then(data => dispatch(addContactos(data)));\n  };\n}\nexport function updateContactos(data) {\n  return dispatch => {\n    return fetch(\"https://localhost:44386/api/Contactos/\".concat(data.Id), {\n      method: 'put',\n      body: JSON.stringify(data),\n      headers: {\n        \"content-Type\": \"application/json\"\n      }\n    }).then(handleResponseNoJson).then(data => dispatch(updContactos(data)));\n  };\n}\nexport function deleteContactos(Id) {\n  return dispatch => {\n    return fetch(\"https://localhost:44386/api/Contactos/\".concat(Id), {\n      method: 'delete',\n      headers: {\n        \"content-Type\": \"application/json\"\n      }\n    }).then(handleResponse).then(data => dispatch(delContactos(Id)));\n  };\n}","map":{"version":3,"sources":["C:\\PROYECTOS\\VisualStudioNET\\WEBREACTREDUXCONTACTOS\\webreactreduxcontactos\\src\\actions\\actionsContactos.js"],"names":["SET_CONTACTOS","ADD_CONTACTOS","UPDATE_CONTACTOS","DELETE_CONTACTOS","setContactos","contactos","type","addContactos","updContactos","delContactos","Id","handleResponse","response","ok","json","error","Error","statusText","handleResponseNoJson","alert","fetchContactos","dispatch","fetch","method","headers","then","res","data","saveContactos","body","JSON","stringify","updateContactos","deleteContactos"],"mappings":"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","sourcesContent":["\r\nexport const SET_CONTACTOS = 'SET_CONTACTOS';\r\nexport const ADD_CONTACTOS = 'ADD_CONTACTOS';\r\nexport const UPDATE_CONTACTOS = 'UPDATE_CONTACTOS';\r\nexport const DELETE_CONTACTOS = 'DELETE_CONTACTOS';\r\n\r\nexport function setContactos(contactos){\r\n\r\n    return {\r\n        type: SET_CONTACTOS,\r\n        contactos\r\n    }\r\n}\r\n\r\nexport function addContactos(contactos){\r\n    return {\r\n        type: ADD_CONTACTOS,\r\n        contactos\r\n    }\r\n\r\n}\r\n\r\nexport function updContactos(contactos){\r\n    return {\r\n        type: UPDATE_CONTACTOS,\r\n        contactos\r\n    }\r\n}\r\n\r\nexport function delContactos(Id){\r\n    return {\r\n        type: DELETE_CONTACTOS,\r\n        Id\r\n    }\r\n}\r\nfunction handleResponse(response){\r\n  \r\n    if (response.ok){\r\n        //Cuando la respuesta es satisfactoría\r\n        return response.json();\r\n    }else{\r\n        //Cuando ocurre un error\r\n        let error = new Error(response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n    }\r\n}\r\nfunction handleResponseNoJson(response){\r\n  \r\n    if (response.ok){\r\n        //Cuando la respuesta es satisfactoría\r\n        return response\r\n    }else{\r\n        //Cuando ocurre un error\r\n        alert('error');\r\n        let error = new Error(response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n    }\r\n}\r\nexport function fetchContactos()\r\n{\r\n    return dispatch =>{\r\n        fetch('https://localhost:44386/api/Contactos', {\r\n            method: 'get',\r\n            headers:{\r\n                \"content-Type\":\"application/json\"\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data => dispatch\r\n            (setContactos(data)\r\n        ));\r\n    }  \r\n}\r\nexport function saveContactos(data){\r\n    return dispatch =>{\r\n        return fetch('https://localhost:44386/api/Contactos', {\r\n            method: 'post',\r\n            body: JSON.stringify(data),\r\n            headers:{\r\n                \"content-Type\":\"application/json\"\r\n            }\r\n        })\r\n        .then(handleResponse)\r\n        .then(data => dispatch(\r\n            addContactos(data)\r\n        ));\r\n    }\r\n}\r\nexport function updateContactos(data){\r\n\r\n    return dispatch =>{\r\n        return fetch(`https://localhost:44386/api/Contactos/${data.Id}`, {\r\n            method: 'put',\r\n            body: JSON.stringify(data),\r\n            headers:{\r\n                \"content-Type\":\"application/json\"\r\n            }\r\n        })\r\n        .then(handleResponseNoJson)\r\n        .then(data => dispatch(\r\n            updContactos(data)\r\n        ));\r\n    }\r\n}\r\n\r\nexport function deleteContactos(Id){\r\n    return dispatch =>{\r\n        return fetch(`https://localhost:44386/api/Contactos/${Id}`, {\r\n            method: 'delete',\r\n            headers:{\r\n                \"content-Type\":\"application/json\"\r\n            }\r\n        })\r\n        .then(handleResponse)\r\n        .then(data => dispatch(\r\n            delContactos(Id)\r\n        ));\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}